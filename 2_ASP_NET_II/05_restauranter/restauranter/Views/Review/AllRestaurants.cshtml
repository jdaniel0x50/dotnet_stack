@model restauranter.Models.RestaurantViewModel
@{
    ViewData["Title"] = "Reviews";
}

<div id="fullscreen_bg" class="fullscreen_bg"></div>
<div class="container">
    <div class="row mt-3">
        <div class="col-md-11 mx-auto">
            <div class="panel panel-login p-3">
                <div class="panel-heading">
                    <div class="row p-3">
                        <div class="row col-md-12">
                            <div class="col-md-6">
                                <h1 class="display-4">All Restaurants</h1>
                            </div>
                            <div class="col-md-6 border border-secondary p-3">
                                <form asp-controller="Review" asp-action="CreateRestaurant" method="post" class="col-md-12">
                                    <div class="form-group">
                                        <label asp-for="Name" class="col-sm-12 text-left font-weight-bold">Add a New Restaurant</label>
                                        <input asp-for="Name" tabindex="1" class="form-control col-sm-12">
                                        @{
                                            if(ViewBag.errors != null)
                                            {
                                                @foreach(string key in ViewBag.errors.Keys)
                                                {
                                                    if (key == "Name" && ViewBag.errors[key].Errors.Count > 0)
                                                    {
                                                        foreach(var error in ViewBag.errors[key].Errors)
                                                        {
                                                            <p class="text-danger font-weight-bold">@error.ErrorMessage</p>
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6 mx-auto">
                                            <input type="submit" tabindex="2" class="form-control btn btn-register bg-info border-info font-weigh-bold" value="Submit">
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <hr class="mt-4 mb-4">
                        <div class="row col-md-10 mx-auto mt-4 mb-4">
                            <table class="table table-striped table-dark">
                                <thead>
                                    <tr>
                                        <th scope="col">Name</th>
                                        <th scope="col">Date Created</th>
                                    </tr>
                                </thead>
                                @{
                                    if (ViewBag.Restaurants != null)
                                    {
                                        foreach (var rest in ViewBag.Restaurants)
                                        {
                                            <tr>
                                                <td scope="row">@rest.Name</td>
                                                <td scope="row">@rest.CreatedAt</td>
                                            </tr>
                                        }
                                    }
                                }
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
